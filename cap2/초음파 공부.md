
> [!note] 세포(organoid)를 위한 조건
> 100MHz이상의 frequency -> spatial resolution 차원


> [!hint] 1-100um 침투깊이 -> cellsheet에 적합

B-mode는 케이크 단면

C-mode는 케이크 시트 단면

 **Mid-band fit = 중심 주파수에서 echo power (dB)**  
→ scatterer density, impedance contrast 를 나타냄.

 **Spectral slope = echo power가 주파수 따라 얼마나 빨리 변하는지**  
→ scatterer size / irregularity 를 나타냄.


| 단계                 | 목표                                     | 습득해야 할 핵심 기술·툴                                                                                                                                                                                                                                                                                                                                                                                                                            | 왜 필요한가                                                                                                                                                                                                                            |
| ------------------ | -------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **1. 물리·생체음향 기초**  | 고주파(20–50 MHz)에서 발생하는 산란·감쇠 메커니즘 이해    | · 파동방정식, 음향 임피던스, 레이놀즈 산란이론  <br>· 셀 시트 두께(≤100 µm)에서의 **주파수–분해능 trade-off** 계산                                                                                                                                                                                                                                                                                                                                                           | ▶ MBF/Slope 파라미터가 왜 ‘세포 밀도·크기’에 민감한지 해석할 수 있어야 함 [PMC](https://pmc.ncbi.nlm.nih.gov/articles/PMC5116945/?utm_source=chatgpt.com)                                                                                                  |
| **2. 계측 장치·프로브**   | 실제 RF raw 데이터를 얻을 수 있는 하드웨어 셋업         | · 30–40 MHz 리니어/빔포커스 탐촉자 특성  <br>· 커플링(수조·젤), 스캔 스테이지 자작 or 상용 모션 컨트롤러  <br>· **참조 팬텀 제작·교정** 방법 (폴리스티렌 비드, TMM)                                                                                                                                                                                                                                                                                                                          | ▶ 절대 dB 단위 IBC를 재려면 **팬텀 보정** 필수 [PubMed](https://pubmed.ncbi.nlm.nih.gov/9517555/?utm_source=chatgpt.com)[PubMed](https://pubmed.ncbi.nlm.nih.gov/40039617/?utm_source=chatgpt.com)                                              |
| **3. 신호 획득 & 펌웨어** | B-mode 프레임과 동시로 RF 스트림 확보              | · 오픈 연구 플랫폼(Verasonics·Cephasonics) **API** 사용법  <br>· 직접 설계 시: AFE→ADC→**FPGA** 데이터 패스, AXI-DMA 개념                                                                                                                                                                                                                                                                                                                                       | ▶ RF를 실시간으로 PC/GPU로 덤프하기 위해서는 저지연 버스 구조 이해 필요                                                                                                                                                                                     |
| **4. 실시간 신호 처리**   | Spectral map + B-mode 동시 렌더링 (≥10 fps) | ① **슬라이딩 FFT → MBF/Slope 회귀식** 구현  <br> - Python/MATLAB 프로토타입 → CUDA 파이프라인 최적화 ⬅ GPU가 진입 장벽↓, 지연도 < 20 ms 가능 [PMC](https://pmc.ncbi.nlm.nih.gov/articles/PMC4019434/?utm_source=chatgpt.com)[NVIDIA Developer](https://developer.nvidia.com/gpugems/gpugems2/part-vi-simulation-and-numerical-algorithms/chapter-48-medical-image-reconstruction?utm_source=chatgpt.com)  <br>② (선택) **FPGA** RTL/HLS 설계 -- 1 µs 단위 파이프라인 처리, 배치·배선 툴 사용법 |                                                                                                                                                                                                                                   |
| **5. 파라미터–생물학 매핑** | 정량값 ↔ 실제 세포 지표(밀도·생존·분화) 상관 모델 구축      | · 통계(다중 회귀, Bland-Altman), ML(랜덤포레스트·GNN)  <br>· **실험실 세포 분석법**: Live/Dead 염색, DNA 정량 등 대조 실험 설계                                                                                                                                                                                                                                                                                                                                          | ▶ 문헌에서 MBF, 0 MHz intercept, Spectral slope가 **cell death·size**와 선형 상관 [PMC](https://pmc.ncbi.nlm.nih.gov/articles/PMC9776858/?utm_source=chatgpt.com)[PubMed](https://pubmed.ncbi.nlm.nih.gov/22579547/?utm_source=chatgpt.com) |
| **6. 시각화·UI/UX**   | 오퍼레이터가 즉시 판독 가능한 QC 대시보드               | · Qt/QML or Electron + WebGL overlay  <br>· 그레이 B-mode 위에 컬러 parametric map α-blend  <br>· 임계값 경고, 자동 리포트 PDF 생성                                                                                                                                                                                                                                                                                                                          |                                                                                                                                                                                                                                   |
| **7. 품질·규제·멸균**    | GMP 생산라인에 투입 가능하도록 준비                  | · ISO 13485, IEC 60601-2-37(초음파 안전), 캡스톤용 멸균 커버 설계  <br>· S/W 라이프사이클, 형상관리(Git-CI/CD)                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                   |
| **8. 검증·유지보수**     | 주기적 팬텀 리캘리브레이션 & SW 업데이트               | · QC 프로토콜 문서화, 자동 회귀 테스트, TLT(Test, Learn, Tweak) 사이클                                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                   |
BSC (Backscatter Coeffeicient)

총므파 빔이 조직을 통과하고 뒤쪽으로 산란되어 돌아오는 에너지밀도를 주파수당,단위체적당으로 표현한 물리량

방식:
1. Reference phantom method
>팬텀 설계
- **팬텀 설계**
    
    - 일반적으로 **agar/gelatin 기반**에 고정 농도의 graphite·glass bead를 첨가해 **감쇠 계수**와 **BSC**를 국제표준(IEC/AIUM) 절차로 미리 교정.
        
    - 온도(특히 37 °C)·음속 매칭이 중요.
        
- **보정 수식**
    
    - 깊이 z 의 동일 주파수 f 성분 비교  
    - 
        $$
        ΔL(f,z)=20log⁡Stissue(f,z)Sphantom(f,z)\Delta L(f,z)=20\log\frac{S_\text{tissue}(f,z)}{S_\text{phantom}(f,z)}ΔL(f,z)=20logSphantom​(f,z)Stissue​(f,z)​  
        ⇒ΔL(f,z)=20log⁡BSCtBSCp−4(αt−αp)z\Rightarrow \Delta L(f,z)=20\log\frac{BSC_t}{BSC_p} - 4(\alpha_t-\alpha_p)z⇒ΔL(f,z)=20logBSCp​BSCt​​−4(αt​−αp​)z
        $$
        
    - z 다중 값에 대해 선형 회귀 → 기울기 = −4(αt−αp)-4(\alpha_t-\alpha_p)−4(αt​−αp​)
        
- **BSC 추정**
    
    - α_t 추정 후 위 식 역으로 BSCt(f)=BSCp(f) 10ΔL(f,0)/20BSC_t(f)=BSC_p(f)\,10^{\Delta L(f,0)/20}BSCt​(f)=BSCp​(f)10ΔL(f,0)/20
        
- **실용 팁**
    
    - Probe 고정 jig·alignment target 사용
        
    - 팬텀→조직 스캔 전후 **시스템 안정화 시간** 확보
        
    - 팬텀 노화·탈수 주기적 검교정 필요

깊이 z의 동일 주파수 f 성분비교
2. RF-data 기반 sepctral fitting